/**
 * ekathuwa
 * @version v0.2.0 - 2013-11-24
 * @link https://github.com/sarath2/ngEkathuwa
 * @author Sarath Ambegoda <sarath2mail@gmail.com>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(){"use strict";angular.module("ngEkathuwa",[]),angular.module("ngEkathuwa",[]).run(["$rootScope","$ekathuwa",function(a,b){a.$ekathuwa=b}]).provider("$ekathuwa",function(){this.$get=["$compile","$rootScope","$timeout","$q",function(a,b,c,d){return this.modal=function(e){var f={id:"ekathuwaModalID",scope:b.$new(),controller:null,backdrop:!0,keyboard:!0,remote:!1,show:!0,modalClass:"fade",role:"dialog",contentStyle:null,contentCustomSize:0,contentPreSize:"df",templateURL:null,templateHTML:null,bodyTemplateURL:null,bodyTemplate:null,header:!0,headerText:null,headerClass:"",headerTemplate:null,headerCloseBtn:!0,footer:!0,footerClass:"",footerTemplate:null,footerCloseBtn:!0,footerSaveBtn:!1},g="",h="",i="",j="",k="",l="";e=angular.extend(f,e);var m={backdrop:e.backdrop,keyboard:e.keyboard,remote:e.remote,show:e.show},n="#"+e.id+" .modal";if(i=e.controller?"ng-controller="+e.controller:"",null!==e.templateURL&&""!==e.templateURL)g="<div "+i+' id="'+e.id+'" ng-include="\''+e.templateURL+"'\"></div>";else{var o="<div "+i+' id="'+e.id+'">';if(null!==e.templateHTML&&""!==e.templateHTML)g=o+e.templateHTML+"</div>";else{if(j=null!==e.bodyTemplateURL&&""!==e.bodyTemplateURL?'<div class="modal-body" ng-include="\''+e.bodyTemplateURL+"'\"></div>":null!==e.bodyTemplate&&""!==e.bodyTemplate?'<div class="modal-body">'+e.bodyTemplate+"</div>":'<div class="modal-body">Ekathuwa modal body.</div>',e.header)if(null!==e.headerTemplate&&""!==e.headerTemplate)l='<div class="modal-header '+e.headerClass+'">'+e.headerTemplate+"</div>";else{var p="";null!==e.headerText&&""!==e.headerText&&(p='<h4 id="myModalLabel" class="modal-title">'+e.headerText+"</h4>"),l='<div class="modal-header '+e.headerClass+'"><button ng-if="'+e.headerCloseBtn+'" aria-hidden="true" data-dismiss="modal" class="close" type="button">Ã—</button>'+p+"</div>"}e.footer&&(k=null!==e.footerTemplate&&""!==e.footerTemplate?'<div class="modal-footer '+e.footerClass+'">'+e.footerTemplate+"</div>":'<div class="modal-footer '+e.footerClass+'"><button ng-if="'+e.footerCloseBtn+'" data-dismiss="modal" class="btn btn-default" type="button">Close</button><button ng-if="'+e.footerSaveBtn+'" class="btn btn-primary" type="button">Save changes</button></div>'),g=o+'<div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" class="modal fade" id="myModal" style="display: none;"><div class="modal-dialog"><div class="modal-content">'+l+j+k+"</div></div></div></div>"}}switch(null!==e.contentStyle&&""!==e.contentStyle&&(h=e.contentStyle),0!==e.contentCustomSize&&angular.isNumber(e.contentCustomSize)&&""!==e.contentCustomSize&&null!==e.contentCustomSize&&(h=h+";width: "+e.contentCustomSize+"%;"),e.contentPreSize){case"sm":h+=";width:25%;";break;case"md":h+=";width:50%;";break;case"lg":h+=";width:75%;";break;case"fl":h+=";width:100%;"}var q="#"+e.id+" .modal-dialog { "+h+"} @media (max-width: 768px) {#"+e.id+" .modal-dialog {width:90%;}}";angular.element("#ekathuwaSt"+e.id).remove(),angular.element("head").append('<style id="ekathuwaSt'+e.id+'">'+q+"</style>"),angular.element("#"+e.id).remove();var r=angular.element(g);angular.element("body").append(r),a(r)(e.scope);var s=d.defer();return null!==e.templateURL&&""!==e.templateURL?c(function(){s.resolve(angular.element(n).modal(m))},300):s.resolve(angular.element(n).modal(m)),s.promise},this}]})}(window,document);
